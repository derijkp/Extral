#
# This file is a Makefile.  If it has the name "Makefile.in"
# then it is a template for a Makefile;  to generate the actual Makefile,
# run "./configure", which is a configuration script generated by the
# "autoconf" program (constructs like "@foo@" will get replaced in the
# actual Makefile.
#

PROJECT = extral

# The directory containing the Tcl sources and headers appropriate
# for this version of Tk ("srcdir" will be replaced or has already
# been replaced by the configure script):
TCL_GENERIC_DIR =	@TCL_SRC_DIR@/generic

# The directory containing the Tcl library archive file appropriate
# for this version of Tk:
TCL_BIN_DIR = @TCL_BIN_DIR@

# Libraries to use when linking:
LIBS = @TCL_BUILD_LIB_SPEC@ @TCL_LIBS@ -lc

#----------------------------------------------------------------
# The information below is modified by the configure script when
# Makefile is generated from Makefile.in.  You shouldn't normally
# modify any of this stuff by hand.
#----------------------------------------------------------------

CC = @CC@
SHLIB_CFLAGS =		@SHLIB_CFLAGS@
SHLIB_LD =		@SHLIB_LD@
SHLIB_SUFFIX =		@SHLIB_SUFFIX@
SHLIB_VERSION =		@SHLIB_VERSION@
SRC_DIR =		@srcdir@

CFLAGS = -O -Wall
CC_SWITCHES = $(CFLAGS) -I${TCL_GENERIC_DIR} ${SHLIB_CFLAGS}

OBJECTS = extralInit.o extral.o list_pop.o string.o array.o supersort.o general.o \
			structl.o structltypes.o date.o leval.o

all: $(PROJECT)${SHLIB_SUFFIX}

$(PROJECT)${SHLIB_SUFFIX}: $(OBJECTS)
	${SHLIB_LD} $(OBJECTS) -o ../$(PROJECT)${SHLIB_SUFFIX} @SHLIB_LD_LIBS@

extratcl: tclAppInit.o $(OBJECTS)
	$(CC) $(CFLAGS) -o extratcl tclAppInit.o $(OBJECTS) ${TCL_LIB_SPEC} ${LIBS}

clean:
	rm -f *.o *${SHLIB_SUFFIX} config.cache config.log lib.exp
	rm -f core ../core extratcl
	rm -f ../*.so ../*.dll ./*.so ./*.dll ../win/tmp/*.obj ../win/*.csm

Makefile: Makefile.in
	./config.status

distclean: clean
	rm -f Makefile

.c.o:
	$(CC) -c $(CC_SWITCHES) $<
